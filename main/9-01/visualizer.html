<!-- 
    1. Create a boilerplate page. Basic HTML, one style tag, one script tag.
    2. Implement the sort functionality. (Bubble, selection, merge, insertion, quick, etc etc)
    3. Confirm if that is working. (Check in the console).
    4. Prepare the UI. (We created progress elements).
    5. Create a display function to display the data.
    6. Change the invocation position of the display function. (Where we are calling the function).
    7. Add some sort of interval or break or pause logic.
    8. Check finally (End to End testing).
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizer</title>
    <style>
        h3 {
            text-align: center;
        }
    </style>
</head>
<body>
    <h3>Array Sorting Visualizer</h3>
    <input type="text" id="arr_input" placeholder="Please enter numbers to sort" />
    <button>Start Sort</button>
    <div id="visual_container"></div>
    
    <script>

        const display = (arr) => {
            let container = document.getElementById('visual_container');
            container.innerHTML = "";
            //find the max element from the array using the predefined math function
            const max = Math.max( ...arr );

            //i -> 0 < 10
            for(let i=0; i< arr.length; i++) {
                let progress = document.createElement('progress');
                progress.max = max;
                progress.value = arr[i];

                container.appendChild(progress);
            }
        }

        //              0   1  2  3  4  5  6  7  8  9
        var elements = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
        //length:10
        var i = 0;

        var intervalID = setInterval(() => {
            //when reach max limit clear the interval 
            if(i == elements.length) {
                clearInterval(intervalID);
                return;
            }

            //iniitally, min=0
            let min = i;
            for(let j = i; j <elements.length; j++) {
                //if 9 < 10 
                // min = 9
                if(elements[j] < elements[min]) {
                    min = j;
                }
            }

            //temp = 10
            //10 = 9 
            //temp = 9
            // 9 is now at first position 
            let temp = elements[i];
            elements[i] = elements[min];
            elements[min] = temp;

            display(elements);

            //i++ = 0+1= 1
            i++;
        }, 1000);

    </script>
</body>
</html>