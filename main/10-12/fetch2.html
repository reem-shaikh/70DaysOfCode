<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        box-sizing: border-box;
        font-family: sans-serif;
      }

      body {
        display: flex;
        height: 100vh;
        justify-content: center;
        align-items: center;
        background: linear-gradient(140deg, #71b7e6, #9b59b6);
      }
      tr:nth-child(odd) {
        background-color: rgba(71, 195, 226, 0.1);
      }

      tr:nth-child(even) {
        background-color: rgba(182, 36, 175, 0.1);
      }

      tr:nth-child(2n)
      {
        color: white;
      }

      tr:nth-child(2n+1)
      {
        color: rgb(10, 0, 49);
      }

      td {
        padding: 10px;
        padding-right: 50px;
      }

      .container{
            max-width: 700px;
            width: 100%;
            background: rgba(255, 255, 255, 0.2);
            padding: 25px 30px;
            border-radius: 5px;
            margin-bottom: 40px;
            box-shadow: 5px 5px rgb(113, 113, 216);

        }

        .container h4{
            font-size: 15px;
            font-weight: 500;
            position: relative;
            text-align: center;
        }

        #table{
            margin-left: 20px;
            border-color: rgb(113, 113, 216);
        }

        tr:hover{
            background-color: rgb(255, 255, 255, 0.2);
        }
        
    </style>
  </head>
  <body>
    <div class="container">
    <h4>Fetch data & fill it in the table dyanamically based on the response of the API call</h4>
    <table id="table" border="1"></table>
    </div>

    <script>
      //to get the response in json format
      let r = fetch('https://reqres.in/api/user')

      //when promise is fullfilled, then
      let s = r.then(function (response) {
        return response.json()
      })

      s.then(function (a) {
        //console.log(data);
        //return the data if the promise is fulfilled

        displayData(a.data)
        //you can access data on line51 from line48, due to hoisting (works both on variables and functions)
      })

      function displayData(data) {
        let table = document.getElementById('table')

        //data.forEach(function(element){
        // console.log(element);
        for (let i = 0; i < data.length; i++) {
          let obj = data[i]

          //were inserting these values in table
          let row = document.createElement('tr')
          let id = document.createElement('td')
          let name = document.createElement('td')
          let year = document.createElement('td')
          let color = document.createElement('td')
          let pantone_value = document.createElement('td')

          id.innerHTML = obj.id
          name.innerHTML = obj.name
          year.innerHTML = obj.year
          color.innerHTML = obj.color
          pantone_value.innerHTML = obj.pantone_value

          row.appendChild(id)
          row.appendChild(name)
          row.appendChild(year)
          row.appendChild(color)
          row.appendChild(pantone_value)

          table.appendChild(row)
        }
      }
    </script>
  </body>
</html>
